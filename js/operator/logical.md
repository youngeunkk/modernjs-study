# 논리 연산자

자바스크립트에는 세 종류의 논리 연산자 ```||```(OR), ```&&```(AND), ```!```(NOT)이 있다.

논리 연산자는 피연산자로 불린형뿐만 아니라 모든 타입의 값을 받을 수 있다. 연산 결과 역시 모든 타입이 될 수 있다.

## ||(OR)

인수 중 하나라도 true 이면 true를 반환하고, 그렇지 않으면 false를 반환한다.

```
alert(true || true); // true
alert( false || true );  // true
alert( true || false );  // true
alert( false || false ); // false
```

피연산자가 모두 ```false```인 경우를 제외하고 항상 ```true```이다.
피연산자가 불린형이 아니면, 평가를 위해 불린형으로 변환된다.
예를 들어 연산 과정에서 숫자 ```1```은 ```true```로, 숫자 ```0```은 ```false```로 바뀐다.

```
if (1 || 0 ) { // if(true || false) 와 동일
    alert('truthy!');
}
```
OR 연산자는 주어진 조건 중 하나라도 참인지 테스트 하는 용도로 자주 사용된다.

ex)
```
let hour = 9;

if (hour < 10 || hour > 18) {
    alert('영업시간이 아님');
}
```
```if```문 안에 여러가지 조건을 넣을 수 있다.

```
let hour = 12;
let isWeekend = true;

if (hour < 10 || hour > 18 || isWeekend) {
    alert('영업시간이 아님'); // 주말이기 때문
}
```

## 첫 번째 truthy를 찾는 OR 연산자 '||'

자바스크립트에서만 제공하는 논리연산자 OR의 추가기능은 다음과 같은 알고리즘으로 동작한다.
```result = value1 || value2 || value3;```
이 때 OR 연산자는 다음 순서에 따라 연산을 수행한다.
* 가장 왼쪽 피연산자부터 시작해 오른쪽으로 나아가며 피연산자 평가한다
* 각 피연산자를 불린형으로 변환 후 그 값이 ```true```면 연산을 멈추고 피연산자의 **변환 전** 원래 값 반환한다
* 피연산자 모두 평가한 경우엔(모든 피연산자가 ```false```) 마지막 피연산자 반환한다

ex)
```
alert( 1 || 0 ); // 1 (1은 truthy임)

alert( null || 1 ); // 1 (1은 truthy임)
alert( null || 0 || 1 ); // 1 (1은 truthy임)

alert( undefined || null || 0 ); // 0 (모두 falsy이므로, 마지막 값을 반환함)
```

이런 OR 연산자의 추가 기능을 이용하면 여러 용도로 OR 연산자를 활용할 수 있다.

1. **변수 또는 표현식으로 구성된 목록에서 첫 번째 truthy 얻기**

```firstName```, ```lastName```, ```nickName```이란 변수가 있는데 이 값들은 모두 옵션 값이라고 해보면
OR ```||```을 사용하면 실제 값이 들어있는 변수를 찾고, 그 값을 보여줄 수 있다. 변수 모두에 값이 없는 경우엔 익명을 보여준다.

```
let firstName = "";
let lastName = "";
let nickName = "바이올렛";

alert(firstName || lastName || nickName || "익명"); // 바이올렛
```
모든 변수가 falsy면 ```"익명"```이 출력되었을 것이다.

2. **단락평가**

왼쪽부터 시작해서 오른쪽으로 평가를 진행하는데 truthy를 만나면 나머지 값들은 건드리지 않은 채 평가를 멈춘다.
이런 프로세스를 '단락평가'라고 한다.

## && (AND)

AND 연산자는 두 피연산자가 모두 참일 때 ```true```를 반환한다. 그 외 경우는 ```false```를 반환한다.

```
alert( true && true );   // true
alert( false && true );  // false
alert( true && false );  // false
alert( false && false ); // false
```

OR 연산자와 마찬가지로 AND 연산자의 피연산자도 타입에 제약이 없다.
```if (1 && 0) {
    alert("if문 안에 falsy가 들어가 있으므로 alert창은 실행되지 않음");
}
```

## 첫 번째 falsy를 찾는 AND 연산자 '&&'

```result = value1 && value2 && value3;```

AND연산자는 아래와 같은 순서로 동작합니다.

* 가장 왼쪽 피연산자부터 시작해 오른쪽으로 나아가며 피연산자를 평가한다.
* 각 피연산자는 불린형으로 변환된 후 값이 ```false```면 평가를 멈추고 해당 피연산자의 변환 전 원래 값을 반환한다.
* 피 연산자 모두 평가되는 경우엔 마지막 피연산자가 반환된다.
  
이 알고리즘은 OR 연산자의 알고리즘과 유사하다. 차이점은 AND 연산자가 첫 번째 falsy를 반환하는 반면, OR은 첫 번째 truthy를 반환한다.

```
// 첫 번째 피연산자가 truthy이면,
// AND는 두 번째 피연산자를 반환한다.
alert( 1 && 0 ); // 0
alert( 1 && 5 ); // 5

// 첫 번째 피연산자가 falsy이면,
// AND는 첫 번째 피연산자를 반환하고, 두 번째 피연산자는 무시한다.
alert( null && 5 ); // null
alert( 0 && "아무거나 와도 상관없습니다." ); // 0
```

피연산자 여러 개를 연속해서 전달할 수 있다.
ex)
```alert(1 && 2 && null & 3); // null```
```alert(1 && 2 && 3); // 마지막 값, 3```

❕ **&&의 우선순위가 ||보다 높다.**

따라서 ```a && b || c && d```는 (a && b) || (c && d)와 동일하게 움직인다.



## ! (NOT)
논리 연산자 NOT은 느낌표 ```!```를 써서 만들 수 있다.
NOT 연산자는 인수를 하나만 받고, 다음 순서대로 연산을 수행한다.
1. 피연산자를 불린형으로 변환한다.
2. 1에서의 변환된 값의 역을 반환한다.

```alert(!true); // false```
```alert(!0); // true```

NOT을 두 개 연달아 사용하면 불린형으로 변환할 수 있다

```alert(!!"non-empty string"); // true```
```alert(!!null); // false


이때, 첫 번째 NOT 연산자는 피연산자로 받은 값을 불린형으로 변환한 후 이 값의 역을 반환하고, 두 번째 NOT 연산자는 첫 번째 NOT 연산자가 반환한 값의 역을 반환합니다. 이렇게 NOT을 연달아 사용하면 특정 값을 불린형으로 변환할 수 있다.






