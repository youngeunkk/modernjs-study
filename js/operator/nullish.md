# nullish 병합 연산자 '??'

병합연산자 ```??```를 사용하면 짧은 문법으로 여러 피연산자 중 그 값이 확정되어있는 변수를 찾을 수 있다.

```a ?? b ``` 평가 결과는 다음과 같다.

* ```a```가 ```null```도 아니고 ```undefined```도 아니면 ```a```
* 그 외의 경우는 ```b```

```x = a ?? b```와 동일한 동작을 하는 코드를 병합 연산자 없이 작성하면 다음과 같다.

```
x = (a !== null && a !== undefined) ? a : b;
```

## '??'와 '||'의 차이

병합 연산자는 OR 연산자와 상당히 유사해보이는데 이 연산자들 사이에는 중요한 차이점이 있다.
* ```||```는 첫 번째 truthy 값을 반환한다.
* ```??```는 첫 번째 정의된 값을 반환한다.

###연산자 우선순위

```??```의 연산자 우선 순위는 5로 꽤 낮다.
그렇기 때문에 복잡한 표현식 안에서 ```??```를 사용해 값을 하나 선택할 땐 괄호를 추가하는 것이 좋다.

```
let height = null;
let width = null;

// 괄호를 추가!
let area = (height ?? 100) * (width ?? 50);

alert(area); // 5000
```


또 ```??```엔 자바스크립트 언어에서 규정한 또 다른 제약사항이 있다.
**안정성 관련 이슈 때문에 ```&&```와 ```||```와 함께 사용하지 못 한다.**

아래 예시를 실행하면 문법 에러가 발생한다.
```
let x = 1 && 2 ?? 3; // SyntaxError: Unexpected token '??'
```

실수를 방지하고자 명세서에 제약이 추가된 상황이라고 한다.